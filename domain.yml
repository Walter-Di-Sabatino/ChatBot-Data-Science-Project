version: "3.1"

intents:
  - start
  - greet
  - goodbye
  - mood_great
  - mood_unhappy
  - bot_challenge
  - game_info
  - get_recommendation
  - ask_recommendation
  - get_publishers
  - get_genres
  - terminate
  - get_publisher_games
  - positive
  - negative
  - genre_filter_positive
  - genre_filter_negative
  - publisher_filter_positive
  - publisher_filter_negative

actions:
  - utter_iamabot
  - utter_greet
  - utter_goodbye
  - utter_did_that_help
  - utter_cheer_up
  - utter_ask_genre
  - utter_ask_continue
  - utter_ask_publisher
  - action_provide_game_info
  - action_provide_publisher_games
  - action_provide_recommendation
  - action_provide_genres 
  - action_provide_publishers
  - action_reset_slots
  - utter_terminate_form
  - action_resume_form
  - utter_default
  - validate_detailed_recommendation_form
  - utter_ask_genre_filter
  - utter_ask_publisher_filter
  - utter_no_form_in_form

entities:
  - game
  - genre
  - language
  - publisher

slots:
  genre_filter:
    type: bool
    influence_conversation: true
    mappings:
      - type: from_intent
        value: true
        intent: genre_filter_positive
        not_intent: 
          - positive
          - publisher_filter_positive
        conditions:
          - active_loop: detailed_recommendation_form
          - requested_slot: genre_filter
      - type: from_intent
        value: false
        intent: genre_filter_negative
        not_intent: 
          - negative
          - publisher_filter_negative
        conditions:
          - active_loop: detailed_recommendation_form
          - requested_slot: genre_filter

  publisher_filter:
    type: bool
    influence_conversation: true
    mappings:
      - type: from_intent
        value: true
        intent: publisher_filter_positive
        not_intent: 
          - positive
          - genre_filter_positive
        conditions:
          - active_loop: detailed_recommendation_form
          - requested_slot: publisher_filter
      - type: from_intent
        value: false
        intent: publisher_filter_negative
        not_intent: 
          - negative
          - genre_filter_negative
        conditions:
          - active_loop: detailed_recommendation_form
          - requested_slot: publisher_filter

  genre:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: genre

  publisher:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: publisher

  language:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: language

  game:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: game

forms:
  detailed_recommendation_form:
    required_slots:
      - genre_filter
      - genre
      - publisher_filter
      - publisher
  
  game_info_form:
    required_slots:
      - game
  
  get_publisher_games_form:
    required_slots:
      - publisher

responses:

  utter_default:
    - text: "ğŸ¤” I'm not sure what you mean. Could you be more specific?"

  utter_no_form_in_form:
    - text: "âŒ You can't start a form in another form!"

  utter_ask_genre_filter:
    - text: "ğŸ® Do you want to filter by genre?"
    - text: "ğŸ” Shall I filter the results by genre for you?"
    - text: "âš™ï¸ Should I apply a filter for genres?"
    - text: "ğŸ¯ Do you prefer to filter by a specific genre?"

  utter_ask_genre:
    - text: "ğŸ® What type of games are you interested in?"
    - text: "ğŸ¤” Can you tell me which genres of games you like?"
    - text: "ğŸ’¡ What are your favorite types of games?"
    - text: "ğŸ¯ Are there any specific genres or themes you prefer when playing games?"

  utter_ask_publisher_filter:
    - text: "ğŸ¢ Do you want to filter by publisher?"
    - text: "ğŸ” Shall I filter the results by publisher for you?"
    - text: "âš™ï¸ Should I apply a filter for a publisher?"
    - text: "ğŸ¯ Do you prefer to filter by a specific publisher?"

  utter_ask_publisher:
    - text: "ğŸ¢ What game publishers do you prefer?"
    - text: "ğŸ¤” Can you tell me which game publishers you like?"
    - text: "ğŸ’¡ What are your favorite publishers?"
    - text: "ğŸ¯ Are there any specific publishers or studios you prefer when playing games?"

  utter_iamabot:
    - text: "ğŸ‘‹ Hi, I'm Rolo, a bot made to help you find the perfect games for your gaming experience!"

  utter_cheer_up:
    - text: "Here is something to cheer you up: ğŸ˜Š"
      image: "https://i.imgur.com/nGF1K8f.jpg"

  utter_did_that_help:
    - text: "ğŸ¤” Did that help you?"
    - text: "ğŸ‘ Was that useful?"
    - text: "ğŸ’¬ Do you need any more assistance?"

  utter_happy:
    - text: "ğŸ‰ Great, carry on!"
    - text: "ğŸš€ Awesome, keep going!"
    - text: "ğŸ˜Š Glad to hear that!"

  utter_ask_continue:
    - text: "âš ï¸ Are you sure you want to exit the form?"

  utter_goodbye:
    - text: "ğŸ‘‹ Bye!"
    - text: "ğŸ’– Goodbye, take care!"
    - text: "ğŸ‘‹ See you later!"

  utter_greet:
    - text: "ğŸ˜Š Hi! How are you?"
    - text: "ğŸ‘‹ Hello! How's it going?"
    - text: "ğŸ‰ Hey there! What's up?"

  utter_terminate_form:
    - text: "ğŸ›‘ Form closed. Let me know if you need more help."

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
